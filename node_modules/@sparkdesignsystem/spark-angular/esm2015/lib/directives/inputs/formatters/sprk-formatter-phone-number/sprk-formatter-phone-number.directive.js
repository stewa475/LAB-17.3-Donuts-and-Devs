import { __decorate, __metadata } from "tslib";
import { Directive, ElementRef, HostListener } from '@angular/core';
let SprkFormatterPhoneNumberDirective = class SprkFormatterPhoneNumberDirective {
    constructor(ref) {
        this.ref = ref;
    }
    onFocus(value) {
        this.ref.nativeElement.value = this.formatPhone(value);
    }
    formatPhone(value) {
        const newValue = `${value}`.replace(/\D/g, '');
        const m = newValue.match(/^(\d{3})(\d{3})(\d{4})$/);
        if (m) {
            return `(${m[1]}) ${m[2]}-${m[3]}`;
        }
        else {
            return value;
        }
    }
};
SprkFormatterPhoneNumberDirective.ctorParameters = () => [
    { type: ElementRef }
];
__decorate([
    HostListener('input', ['$event.target.value']),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object]),
    __metadata("design:returntype", void 0)
], SprkFormatterPhoneNumberDirective.prototype, "onFocus", null);
SprkFormatterPhoneNumberDirective = __decorate([
    Directive({
        selector: '[sprkFormatterPhoneNumber]'
    }),
    __metadata("design:paramtypes", [ElementRef])
], SprkFormatterPhoneNumberDirective);
export { SprkFormatterPhoneNumberDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Byay1mb3JtYXR0ZXItcGhvbmUtbnVtYmVyLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BzcGFya2Rlc2lnbnN5c3RlbS9zcGFyay1hbmd1bGFyLyIsInNvdXJjZXMiOlsibGliL2RpcmVjdGl2ZXMvaW5wdXRzL2Zvcm1hdHRlcnMvc3Byay1mb3JtYXR0ZXItcGhvbmUtbnVtYmVyL3NwcmstZm9ybWF0dGVyLXBob25lLW51bWJlci5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUtwRSxJQUFhLGlDQUFpQyxHQUE5QyxNQUFhLGlDQUFpQztJQUM1QyxZQUFtQixHQUFlO1FBQWYsUUFBRyxHQUFILEdBQUcsQ0FBWTtJQUFHLENBQUM7SUFHdEMsT0FBTyxDQUFDLEtBQUs7UUFDWCxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQsV0FBVyxDQUFDLEtBQUs7UUFDZixNQUFNLFFBQVEsR0FBRyxHQUFHLEtBQUssRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDL0MsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1FBRXBELElBQUksQ0FBQyxFQUFFO1lBQ0wsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7U0FDcEM7YUFBTTtZQUNMLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7SUFDSCxDQUFDO0NBQ0YsQ0FBQTs7WUFqQnlCLFVBQVU7O0FBR2xDO0lBREMsWUFBWSxDQUFDLE9BQU8sRUFBRSxDQUFDLHFCQUFxQixDQUFDLENBQUM7Ozs7Z0VBRzlDO0FBTlUsaUNBQWlDO0lBSDdDLFNBQVMsQ0FBQztRQUNULFFBQVEsRUFBRSw0QkFBNEI7S0FDdkMsQ0FBQztxQ0FFd0IsVUFBVTtHQUR2QixpQ0FBaUMsQ0FrQjdDO1NBbEJZLGlDQUFpQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgSG9zdExpc3RlbmVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tzcHJrRm9ybWF0dGVyUGhvbmVOdW1iZXJdJ1xufSlcbmV4cG9ydCBjbGFzcyBTcHJrRm9ybWF0dGVyUGhvbmVOdW1iZXJEaXJlY3RpdmUge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVmOiBFbGVtZW50UmVmKSB7fVxuXG4gIEBIb3N0TGlzdGVuZXIoJ2lucHV0JywgWyckZXZlbnQudGFyZ2V0LnZhbHVlJ10pXG4gIG9uRm9jdXModmFsdWUpIHtcbiAgICB0aGlzLnJlZi5uYXRpdmVFbGVtZW50LnZhbHVlID0gdGhpcy5mb3JtYXRQaG9uZSh2YWx1ZSk7XG4gIH1cblxuICBmb3JtYXRQaG9uZSh2YWx1ZSk6IHN0cmluZyB7XG4gICAgY29uc3QgbmV3VmFsdWUgPSBgJHt2YWx1ZX1gLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgY29uc3QgbSA9IG5ld1ZhbHVlLm1hdGNoKC9eKFxcZHszfSkoXFxkezN9KShcXGR7NH0pJC8pO1xuXG4gICAgaWYgKG0pIHtcbiAgICAgIHJldHVybiBgKCR7bVsxXX0pICR7bVsyXX0tJHttWzNdfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==