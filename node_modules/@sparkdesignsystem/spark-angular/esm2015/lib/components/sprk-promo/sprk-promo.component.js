import { __decorate, __metadata } from "tslib";
import { Component, Input } from '@angular/core';
let SprkPromoComponent = class SprkPromoComponent {
    /**
     * @ignore
     */
    getClasses() {
        const classArray = [
            'sprk-c-Promo',
            'sprk-o-Stack',
            'sprk-o-Stack--split@s'
        ];
        if (this.isFlag) {
            classArray.push('sprk-c-Promo--flag');
        }
        if (this.hasBorder) {
            classArray.push('sprk-c-Promo--bordered');
        }
        if (this.additionalClasses) {
            this.additionalClasses.split(' ').forEach(className => {
                classArray.push(className);
            });
        }
        return classArray.join(' ');
    }
    /**
     * @ignore
     */
    getClassesFlag() {
        const classArray = [
            'sprk-o-Stack__item--fourth@s',
            'sprk-o-Stack__item'
        ];
        if (this.additionalClassesFlagLink) {
            this.additionalClassesFlagLink.split(' ').forEach(className => {
                classArray.push(className);
            });
        }
        return classArray.join(' ');
    }
    /**
     * @ignore
     */
    getClassesImg() {
        const classArray = [
            'sprk-o-Stack__item',
            'sprk-o-Stack__item--half@s'
        ];
        if (this.additionalClassesImgLink) {
            this.additionalClassesImgLink.split(' ').forEach(className => {
                classArray.push(className);
            });
        }
        return classArray.join(' ');
    }
    /**
     * @ignore
     */
    getClassesContent() {
        const classArray = [
            'sprk-c-Promo__content',
            'sprk-o-Stack__item',
            'sprk-o-Stack',
            'sprk-o-Stack--large'
        ];
        if (this.isFlag) {
            classArray.push('sprk-o-Stack__item--three-fourths@s');
        }
        else {
            if (this.imgSrc) {
                classArray.push('sprk-o-Stack__item--half@s');
            }
        }
        if (this.additionalClassesContent) {
            this.additionalClassesContent.split(' ').forEach(className => {
                classArray.push(className);
            });
        }
        return classArray.join(' ');
    }
};
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "title", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "subtitle", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "cta", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "ctaText", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "buttonHref", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "buttonLinkAnalytics", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "ctaLinkHref", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "ctaLinkAnalytics", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "additionalClasses", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "additionalClassesContent", void 0);
__decorate([
    Input(),
    __metadata("design:type", Boolean)
], SprkPromoComponent.prototype, "isFlag", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "additionalClassesFlagLink", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "flagLinkAnalytics", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "imgSrc", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "imgAlt", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "imgHref", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "imgLinkAnalytics", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "additionalClassesImgLink", void 0);
__decorate([
    Input(),
    __metadata("design:type", Boolean)
], SprkPromoComponent.prototype, "mediaRev", void 0);
__decorate([
    Input(),
    __metadata("design:type", Boolean)
], SprkPromoComponent.prototype, "hasBorder", void 0);
__decorate([
    Input(),
    __metadata("design:type", String)
], SprkPromoComponent.prototype, "idString", void 0);
SprkPromoComponent = __decorate([
    Component({
        selector: 'sprk-promo',
        template: `
    <div [ngClass]="getClasses()" [attr.data-id]="idString">
      <a
        sprkLink
        variant="unstyled"
        *ngIf="isFlag && !mediaRev"
        [ngClass]="getClassesFlag()"
        [attr.href]="imgHref"
        [analyticsString]="flagLinkAnalytics"
      >
        <img
          class="sprk-c-Promo__image--flag"
          alt="{{ imgAlt }}"
          src="{{ imgSrc }}"
        />
      </a>
      <a
        sprkLink
        variant="unstyled"
        *ngIf="imgSrc && !mediaRev && !isFlag"
        [attr.href]="imgHref"
        [analyticsString]="imgLinkAnalytics"
        [ngClass]="getClassesImg()"
      >
        <img
          class="sprk-c-Promo__image"
          alt="{{ imgAlt }}"
          src="{{ imgSrc }}"
        />
      </a>

      <div [ngClass]="getClassesContent()">
        <h3
          *ngIf="title"
          class="sprk-b-TypeDisplayFive sprk-o-Stack__item sprk-c-Promo__title"
        >
          {{ title }}
        </h3>

        <div *ngIf="subtitle" class="sprk-c-Promo__subtitle sprk-o-Stack__item">
          {{ subtitle }}
        </div>

        <div class="sprk-b-TypeBodyTwo sprk-o-Stack__item">
          <ng-content></ng-content>
        </div>

        <div *ngIf="cta === 'button'" class="sprk-o-Stack__item">
          <a
            sprkLink
            variant="unstyled"
            [attr.href]="buttonHref"
            class="sprk-c-Button"
            [analyticsString]="buttonLinkAnalytics"
          >
            {{ ctaText }}
          </a>
        </div>

        <a
          sprkLink
          variant="simple"
          *ngIf="cta === 'link'"
          [attr.href]="ctaLinkHref"
          class="sprk-o-Stack__item"
          [analyticsString]="ctaLinkAnalytics"
        >
          {{ ctaText }}
        </a>
      </div>

      <a
        sprkLink
        variant="unstyled"
        *ngIf="isFlag && mediaRev"
        [attr.href]="imgHref"
        [ngClass]="getClassesFlag()"
        [analyticsString]="flagLinkAnalytics"
      >
        <img
          class="sprk-c-Promo__image--flag"
          alt="{{ imgAlt }}"
          src="{{ imgSrc }}"
        />
      </a>

      <a
        sprkLink
        variant="unstyled"
        *ngIf="imgSrc && mediaRev && !isFlag"
        [attr.href]="imgHref"
        [analyticsString]="imgLinkAnalytics"
        [ngClass]="getClassesImg()"
      >
        <img
          class="sprk-c-Promo__image"
          alt="{{ imgAlt }}"
          src="{{ imgSrc }}"
        />
      </a>
    </div>
  `
    })
], SprkPromoComponent);
export { SprkPromoComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Byay1wcm9tby5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3BhcmtkZXNpZ25zeXN0ZW0vc3BhcmstYW5ndWxhci8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3NwcmstcHJvbW8vc3Byay1wcm9tby5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBMkdqRCxJQUFhLGtCQUFrQixHQUEvQixNQUFhLGtCQUFrQjtJQStJN0I7O09BRUc7SUFDSCxVQUFVO1FBQ1IsTUFBTSxVQUFVLEdBQWE7WUFDM0IsY0FBYztZQUNkLGNBQWM7WUFDZCx1QkFBdUI7U0FDeEIsQ0FBQztRQUVGLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNmLFVBQVUsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztTQUN2QztRQUVELElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNsQixVQUFVLENBQUMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUM7U0FDM0M7UUFFRCxJQUFJLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtZQUMxQixJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDcEQsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM3QixDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0QsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRDs7T0FFRztJQUNILGNBQWM7UUFDWixNQUFNLFVBQVUsR0FBYTtZQUMzQiw4QkFBOEI7WUFDOUIsb0JBQW9CO1NBQ3JCLENBQUM7UUFFRixJQUFJLElBQUksQ0FBQyx5QkFBeUIsRUFBRTtZQUNsQyxJQUFJLENBQUMseUJBQXlCLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDNUQsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM3QixDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0QsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRDs7T0FFRztJQUNILGFBQWE7UUFDWCxNQUFNLFVBQVUsR0FBYTtZQUMzQixvQkFBb0I7WUFDcEIsNEJBQTRCO1NBQzdCLENBQUM7UUFFRixJQUFJLElBQUksQ0FBQyx3QkFBd0IsRUFBRTtZQUNqQyxJQUFJLENBQUMsd0JBQXdCLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDM0QsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM3QixDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0QsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRDs7T0FFRztJQUNILGlCQUFpQjtRQUNmLE1BQU0sVUFBVSxHQUFhO1lBQzNCLHVCQUF1QjtZQUN2QixvQkFBb0I7WUFDcEIsY0FBYztZQUNkLHFCQUFxQjtTQUN0QixDQUFDO1FBRUYsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2YsVUFBVSxDQUFDLElBQUksQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO1NBQ3hEO2FBQU07WUFDTCxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ2YsVUFBVSxDQUFDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO2FBQy9DO1NBQ0Y7UUFFRCxJQUFJLElBQUksQ0FBQyx3QkFBd0IsRUFBRTtZQUNqQyxJQUFJLENBQUMsd0JBQXdCLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDM0QsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM3QixDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0QsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLENBQUM7Q0FDRixDQUFBO0FBaE9DO0lBREMsS0FBSyxFQUFFOztpREFDTTtBQU1kO0lBREMsS0FBSyxFQUFFOztvREFDUztBQU1qQjtJQURDLEtBQUssRUFBRTs7K0NBQ0k7QUFLWjtJQURDLEtBQUssRUFBRTs7bURBQ1E7QUFNaEI7SUFEQyxLQUFLLEVBQUU7O3NEQUNXO0FBUW5CO0lBREMsS0FBSyxFQUFFOzsrREFDb0I7QUFLNUI7SUFEQyxLQUFLLEVBQUU7O3VEQUNZO0FBU3BCO0lBREMsS0FBSyxFQUFFOzs0REFDaUI7QUFPekI7SUFEQyxLQUFLLEVBQUU7OzZEQUNrQjtBQU8xQjtJQURDLEtBQUssRUFBRTs7b0VBQ3lCO0FBS2pDO0lBREMsS0FBSyxFQUFFOztrREFDUTtBQU9oQjtJQURDLEtBQUssRUFBRTs7cUVBQzBCO0FBV2xDO0lBREMsS0FBSyxFQUFFOzs2REFDa0I7QUFLMUI7SUFEQyxLQUFLLEVBQUU7O2tEQUNPO0FBS2Y7SUFEQyxLQUFLLEVBQUU7O2tEQUNPO0FBS2Y7SUFEQyxLQUFLLEVBQUU7O21EQUNRO0FBU2hCO0lBREMsS0FBSyxFQUFFOzs0REFDaUI7QUFRekI7SUFEQyxLQUFLLEVBQUU7O29FQUN5QjtBQU1qQztJQURDLEtBQUssRUFBRTs7b0RBQ1U7QUFNbEI7SUFEQyxLQUFLLEVBQUU7O3FEQUNXO0FBVW5CO0lBREMsS0FBSyxFQUFFOztvREFDUztBQTdJTixrQkFBa0I7SUF6RzlCLFNBQVMsQ0FBQztRQUNULFFBQVEsRUFBRSxZQUFZO1FBQ3RCLFFBQVEsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FxR1Q7S0FDRixDQUFDO0dBQ1csa0JBQWtCLENBcU85QjtTQXJPWSxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3NwcmstcHJvbW8nLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxkaXYgW25nQ2xhc3NdPVwiZ2V0Q2xhc3NlcygpXCIgW2F0dHIuZGF0YS1pZF09XCJpZFN0cmluZ1wiPlxuICAgICAgPGFcbiAgICAgICAgc3Bya0xpbmtcbiAgICAgICAgdmFyaWFudD1cInVuc3R5bGVkXCJcbiAgICAgICAgKm5nSWY9XCJpc0ZsYWcgJiYgIW1lZGlhUmV2XCJcbiAgICAgICAgW25nQ2xhc3NdPVwiZ2V0Q2xhc3Nlc0ZsYWcoKVwiXG4gICAgICAgIFthdHRyLmhyZWZdPVwiaW1nSHJlZlwiXG4gICAgICAgIFthbmFseXRpY3NTdHJpbmddPVwiZmxhZ0xpbmtBbmFseXRpY3NcIlxuICAgICAgPlxuICAgICAgICA8aW1nXG4gICAgICAgICAgY2xhc3M9XCJzcHJrLWMtUHJvbW9fX2ltYWdlLS1mbGFnXCJcbiAgICAgICAgICBhbHQ9XCJ7eyBpbWdBbHQgfX1cIlxuICAgICAgICAgIHNyYz1cInt7IGltZ1NyYyB9fVwiXG4gICAgICAgIC8+XG4gICAgICA8L2E+XG4gICAgICA8YVxuICAgICAgICBzcHJrTGlua1xuICAgICAgICB2YXJpYW50PVwidW5zdHlsZWRcIlxuICAgICAgICAqbmdJZj1cImltZ1NyYyAmJiAhbWVkaWFSZXYgJiYgIWlzRmxhZ1wiXG4gICAgICAgIFthdHRyLmhyZWZdPVwiaW1nSHJlZlwiXG4gICAgICAgIFthbmFseXRpY3NTdHJpbmddPVwiaW1nTGlua0FuYWx5dGljc1wiXG4gICAgICAgIFtuZ0NsYXNzXT1cImdldENsYXNzZXNJbWcoKVwiXG4gICAgICA+XG4gICAgICAgIDxpbWdcbiAgICAgICAgICBjbGFzcz1cInNwcmstYy1Qcm9tb19faW1hZ2VcIlxuICAgICAgICAgIGFsdD1cInt7IGltZ0FsdCB9fVwiXG4gICAgICAgICAgc3JjPVwie3sgaW1nU3JjIH19XCJcbiAgICAgICAgLz5cbiAgICAgIDwvYT5cblxuICAgICAgPGRpdiBbbmdDbGFzc109XCJnZXRDbGFzc2VzQ29udGVudCgpXCI+XG4gICAgICAgIDxoM1xuICAgICAgICAgICpuZ0lmPVwidGl0bGVcIlxuICAgICAgICAgIGNsYXNzPVwic3Byay1iLVR5cGVEaXNwbGF5Rml2ZSBzcHJrLW8tU3RhY2tfX2l0ZW0gc3Byay1jLVByb21vX190aXRsZVwiXG4gICAgICAgID5cbiAgICAgICAgICB7eyB0aXRsZSB9fVxuICAgICAgICA8L2gzPlxuXG4gICAgICAgIDxkaXYgKm5nSWY9XCJzdWJ0aXRsZVwiIGNsYXNzPVwic3Byay1jLVByb21vX19zdWJ0aXRsZSBzcHJrLW8tU3RhY2tfX2l0ZW1cIj5cbiAgICAgICAgICB7eyBzdWJ0aXRsZSB9fVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwic3Byay1iLVR5cGVCb2R5VHdvIHNwcmstby1TdGFja19faXRlbVwiPlxuICAgICAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiAqbmdJZj1cImN0YSA9PT0gJ2J1dHRvbidcIiBjbGFzcz1cInNwcmstby1TdGFja19faXRlbVwiPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBzcHJrTGlua1xuICAgICAgICAgICAgdmFyaWFudD1cInVuc3R5bGVkXCJcbiAgICAgICAgICAgIFthdHRyLmhyZWZdPVwiYnV0dG9uSHJlZlwiXG4gICAgICAgICAgICBjbGFzcz1cInNwcmstYy1CdXR0b25cIlxuICAgICAgICAgICAgW2FuYWx5dGljc1N0cmluZ109XCJidXR0b25MaW5rQW5hbHl0aWNzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7eyBjdGFUZXh0IH19XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8YVxuICAgICAgICAgIHNwcmtMaW5rXG4gICAgICAgICAgdmFyaWFudD1cInNpbXBsZVwiXG4gICAgICAgICAgKm5nSWY9XCJjdGEgPT09ICdsaW5rJ1wiXG4gICAgICAgICAgW2F0dHIuaHJlZl09XCJjdGFMaW5rSHJlZlwiXG4gICAgICAgICAgY2xhc3M9XCJzcHJrLW8tU3RhY2tfX2l0ZW1cIlxuICAgICAgICAgIFthbmFseXRpY3NTdHJpbmddPVwiY3RhTGlua0FuYWx5dGljc1wiXG4gICAgICAgID5cbiAgICAgICAgICB7eyBjdGFUZXh0IH19XG4gICAgICAgIDwvYT5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8YVxuICAgICAgICBzcHJrTGlua1xuICAgICAgICB2YXJpYW50PVwidW5zdHlsZWRcIlxuICAgICAgICAqbmdJZj1cImlzRmxhZyAmJiBtZWRpYVJldlwiXG4gICAgICAgIFthdHRyLmhyZWZdPVwiaW1nSHJlZlwiXG4gICAgICAgIFtuZ0NsYXNzXT1cImdldENsYXNzZXNGbGFnKClcIlxuICAgICAgICBbYW5hbHl0aWNzU3RyaW5nXT1cImZsYWdMaW5rQW5hbHl0aWNzXCJcbiAgICAgID5cbiAgICAgICAgPGltZ1xuICAgICAgICAgIGNsYXNzPVwic3Byay1jLVByb21vX19pbWFnZS0tZmxhZ1wiXG4gICAgICAgICAgYWx0PVwie3sgaW1nQWx0IH19XCJcbiAgICAgICAgICBzcmM9XCJ7eyBpbWdTcmMgfX1cIlxuICAgICAgICAvPlxuICAgICAgPC9hPlxuXG4gICAgICA8YVxuICAgICAgICBzcHJrTGlua1xuICAgICAgICB2YXJpYW50PVwidW5zdHlsZWRcIlxuICAgICAgICAqbmdJZj1cImltZ1NyYyAmJiBtZWRpYVJldiAmJiAhaXNGbGFnXCJcbiAgICAgICAgW2F0dHIuaHJlZl09XCJpbWdIcmVmXCJcbiAgICAgICAgW2FuYWx5dGljc1N0cmluZ109XCJpbWdMaW5rQW5hbHl0aWNzXCJcbiAgICAgICAgW25nQ2xhc3NdPVwiZ2V0Q2xhc3Nlc0ltZygpXCJcbiAgICAgID5cbiAgICAgICAgPGltZ1xuICAgICAgICAgIGNsYXNzPVwic3Byay1jLVByb21vX19pbWFnZVwiXG4gICAgICAgICAgYWx0PVwie3sgaW1nQWx0IH19XCJcbiAgICAgICAgICBzcmM9XCJ7eyBpbWdTcmMgfX1cIlxuICAgICAgICAvPlxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICBgXG59KVxuZXhwb3J0IGNsYXNzIFNwcmtQcm9tb0NvbXBvbmVudCB7XG4gIC8qKlxuICAgKiBUaGUgbWFpbiBoZWFkaW5nIG9uIHRoZSBQcm9tby5cbiAgICovXG4gIEBJbnB1dCgpXG4gIHRpdGxlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBJZiBzdXBwbGllZCwgdGhpcyB3aWxsIGJlIHVzZWQgYXMgdGhlXG4gICAqIHRleHQgZm9yIGEgc3VidGl0bGUuXG4gICAqL1xuICBASW5wdXQoKVxuICBzdWJ0aXRsZTogc3RyaW5nO1xuICAvKipcbiAgICogQ2FuIGJlIGBsaW5rYCBvciBgYnV0dG9uYC5cbiAgICogVGhpcyBkZXRlcm1pbmVzIHRoZSB0eXBlIGZvciB0aGUgY2FsbCB0byBhY3Rpb24gaW4gdGhlIFByb21vIGJvZHkuXG4gICAqL1xuICBASW5wdXQoKVxuICBjdGE6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoaXMgZGV0ZXJtaW5lcyB0aGUgdGV4dCBmb3IgdGhlIGNhbGwgdG8gYWN0aW9uLlxuICAgKi9cbiAgQElucHV0KClcbiAgY3RhVGV4dDogc3RyaW5nO1xuICAvKipcbiAgICogVGhpcyB3aWxsIGJlIHRoZSBgaHJlZmAgZm9yIHRoZSBidXR0b25cbiAgICogaWYgYGN0YWAgaXMgc2V0IHRvIGBidXR0b25gLlxuICAgKi9cbiAgQElucHV0KClcbiAgYnV0dG9uSHJlZjogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHZhbHVlIHN1cHBsaWVkIHdpbGwgYmUgYXNzaWduZWQgdG8gdGhlXG4gICAqIGBkYXRhLWFuYWx5dGljc2AgYXR0cmlidXRlIG9uIHRoZVxuICAgKiBjYWxsLXRvLWFjdGlvbiBidXR0b24gaWYgYGN0YWAgaXMgc2V0IHRvIGBidXR0b25gLlxuICAgKiBUaGlzIGlzIGludGVuZGVkIGZvciBhbiBvdXRzaWRlIGxpYnJhcnkgdG8gY2FwdHVyZSBkYXRhLlxuICAgKi9cbiAgQElucHV0KClcbiAgYnV0dG9uTGlua0FuYWx5dGljczogc3RyaW5nO1xuICAvKipcbiAgICogVGhpcyB3aWxsIGJlIHRoZSBocmVmIGZvciB0aGUgdGhlIGxpbmsgaWYgYGN0YWAgaXMgc2V0IHRvIGBsaW5rYC5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGN0YUxpbmtIcmVmOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdmFsdWUgc3VwcGxpZWQgd2lsbCBiZSBhc3NpZ25lZCB0b1xuICAgKiB0aGUgYGRhdGEtYW5hbHl0aWNzYCBhdHRyaWJ1dGUgb24gdGhlXG4gICAqIGNhbGwtdG8tYWN0aW9uIGxpbmsgaWYgYGN0YWAgaXMgc2V0IHRvXG4gICAqIGBsaW5rYC4gVGhpcyBpcyBpbnRlbmRlZCBmb3IgYW5cbiAgICogb3V0c2lkZSBsaWJyYXJ5IHRvIGNhcHR1cmUgZGF0YS5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGN0YUxpbmtBbmFseXRpY3M6IHN0cmluZztcbiAgLyoqXG4gICAqIEV4cGVjdHMgYSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nXG4gICAqIG9mIGNsYXNzZXMgdG8gYmUgYWRkZWQgdG8gdGhlXG4gICAqIGNvbXBvbmVudC5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGFkZGl0aW9uYWxDbGFzc2VzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBFeHBlY3RzIGEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZ1xuICAgKiBvZiBjbGFzc2VzIHRvIGJlIGFkZGVkIHRvIHRoZVxuICAgKiBjb250ZW50IGNvbnRhaW5lci5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGFkZGl0aW9uYWxDbGFzc2VzQ29udGVudDogc3RyaW5nO1xuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgRmxhZyBQcm9tbyB2YXJpYW50IHdpbGwgYmUgcmVuZGVyZWQuXG4gICAqL1xuICBASW5wdXQoKVxuICBpc0ZsYWc6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBFeHBlY3RzIGEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZ1xuICAgKiBvZiBjbGFzc2VzIHRvIGJlIGFkZGVkIHRvIHRoZVxuICAgKiBsaW5rIHN1cnJvdW5kaW5nIHRoZSBpbWFnZSBpbiB0aGUgRmxhZyB2YXJpYW50LlxuICAgKi9cbiAgQElucHV0KClcbiAgYWRkaXRpb25hbENsYXNzZXNGbGFnTGluazogc3RyaW5nO1xuICAvKipcbiAgICogSWYgYGlzRmxhZ2AgaXMgc2V0IHRvIGB0cnVlYCxcbiAgICogdGhlIFByb21vIHdpbGwgcmVuZGVyIHdpdGhcbiAgICogYW4gYW5jaG9yIGVsZW1lbnQgY29udGFpbmluZyB0aGVcbiAgICogaW1hZ2Ugc3BlY2lmaWVkIGluIGBpbWdTcmNgLiBUaGUgdmFsdWVcbiAgICogc3VwcGxpZWQgaGVyZSB3aWxsIGJlIGFzc2lnbmVkIHRvIHRoZSBgZGF0YS1hbmFseXRpY3NgXG4gICAqIGF0dHJpYnV0ZSBvbiB0aGF0IGFuY2hvciBlbGVtZW50LlxuICAgKiBUaGlzIGlzIGludGVuZGVkIGZvciBhbiBvdXRzaWRlIGxpYnJhcnkgdG8gY2FwdHVyZSBkYXRhLlxuICAgKi9cbiAgQElucHV0KClcbiAgZmxhZ0xpbmtBbmFseXRpY3M6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBzb3VyY2UgdmFsdWUgZm9yIHRoZSBQcm9tbyBpbWFnZS5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGltZ1NyYzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGBhbHRgIHRleHQgZm9yIHRoZSBQcm9tbyBpbWFnZS5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGltZ0FsdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGBocmVmYCB2YWx1ZSBmb3IgdGhlIFByb21vIGltYWdlLlxuICAgKi9cbiAgQElucHV0KClcbiAgaW1nSHJlZjogc3RyaW5nO1xuICAvKipcbiAgICogSWYgYGltZ1NyY2AgaXMgdHJ1ZSBhbmQgYGlzRmxhZ2AgaXMgYGZhbHNlYCxcbiAgICogdGhlIHZhbHVlIHN1cHBsaWVkIHdpbGwgYmUgYXNzaWduZWQgdG9cbiAgICogdGhlIGBkYXRhLWFuYWx5dGljc2AgYXR0cmlidXRlIG9uIHRoZVxuICAgKiBhbmNob3IgY29udGFpbmluZyB0aGUgUHJvbW8gaW1hZ2UuXG4gICAqIFRoaXMgaXMgaW50ZW5kZWQgZm9yIGFuIG91dHNpZGUgbGlicmFyeSB0byBjYXB0dXJlIGRhdGEuXG4gICAqL1xuICBASW5wdXQoKVxuICBpbWdMaW5rQW5hbHl0aWNzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBJZiBgaW1nU3JjYCBpcyB0cnVlIGFuZCBgaXNGbGFnYCBpcyBmYWxzZSxcbiAgICogdGhpcyBzdHJpbmcgb2YgYWRkaXRpb25hbCBjbGFzc2VzIHdpbGxcbiAgICogYmUgYWRkZWQgdG8gdGhlIGFuY2hvciBjb250YWluaW5nIHRoZSBQcm9tb1xuICAgKiBpbWFnZS4gVGhpcyBpcyBpbnRlbmRlZCBmb3Igb3ZlcnJpZGVzLlxuICAgKi9cbiAgQElucHV0KClcbiAgYWRkaXRpb25hbENsYXNzZXNJbWdMaW5rOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBtZWRpYSB3aWxsIHJlbmRlclxuICAgKiBvbiB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgUHJvbW8gY29udGVudC5cbiAgICovXG4gIEBJbnB1dCgpXG4gIG1lZGlhUmV2OiBib29sZWFuO1xuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgUHJvbW8gd2lsbCBiZSByZW5kZXJlZFxuICAgKiB3aXRoIGEgYm9yZGVyLlxuICAgKi9cbiAgQElucHV0KClcbiAgaGFzQm9yZGVyOiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIHZhbHVlIHN1cHBsaWVkIHdpbGwgYmUgYXNzaWduZWRcbiAgICogdG8gdGhlIGBkYXRhLWlkYCBhdHRyaWJ1dGUgb24gdGhlXG4gICAqIGNvbXBvbmVudC4gVGhpcyBpcyBpbnRlbmRlZCB0byBiZVxuICAgKiB1c2VkIGFzIGEgc2VsZWN0b3IgZm9yIGF1dG9tYXRlZFxuICAgKiB0b29scy4gVGhpcyB2YWx1ZSBzaG91bGQgYmUgdW5pcXVlXG4gICAqIHBlciBwYWdlLlxuICAgKi9cbiAgQElucHV0KClcbiAgaWRTdHJpbmc6IHN0cmluZztcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgZ2V0Q2xhc3NlcygpOiBzdHJpbmcge1xuICAgIGNvbnN0IGNsYXNzQXJyYXk6IHN0cmluZ1tdID0gW1xuICAgICAgJ3NwcmstYy1Qcm9tbycsXG4gICAgICAnc3Byay1vLVN0YWNrJyxcbiAgICAgICdzcHJrLW8tU3RhY2stLXNwbGl0QHMnXG4gICAgXTtcblxuICAgIGlmICh0aGlzLmlzRmxhZykge1xuICAgICAgY2xhc3NBcnJheS5wdXNoKCdzcHJrLWMtUHJvbW8tLWZsYWcnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5oYXNCb3JkZXIpIHtcbiAgICAgIGNsYXNzQXJyYXkucHVzaCgnc3Byay1jLVByb21vLS1ib3JkZXJlZCcpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFkZGl0aW9uYWxDbGFzc2VzKSB7XG4gICAgICB0aGlzLmFkZGl0aW9uYWxDbGFzc2VzLnNwbGl0KCcgJykuZm9yRWFjaChjbGFzc05hbWUgPT4ge1xuICAgICAgICBjbGFzc0FycmF5LnB1c2goY2xhc3NOYW1lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2xhc3NBcnJheS5qb2luKCcgJyk7XG4gIH1cblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgZ2V0Q2xhc3Nlc0ZsYWcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBjbGFzc0FycmF5OiBzdHJpbmdbXSA9IFtcbiAgICAgICdzcHJrLW8tU3RhY2tfX2l0ZW0tLWZvdXJ0aEBzJyxcbiAgICAgICdzcHJrLW8tU3RhY2tfX2l0ZW0nXG4gICAgXTtcblxuICAgIGlmICh0aGlzLmFkZGl0aW9uYWxDbGFzc2VzRmxhZ0xpbmspIHtcbiAgICAgIHRoaXMuYWRkaXRpb25hbENsYXNzZXNGbGFnTGluay5zcGxpdCgnICcpLmZvckVhY2goY2xhc3NOYW1lID0+IHtcbiAgICAgICAgY2xhc3NBcnJheS5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzQXJyYXkuam9pbignICcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGdldENsYXNzZXNJbWcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBjbGFzc0FycmF5OiBzdHJpbmdbXSA9IFtcbiAgICAgICdzcHJrLW8tU3RhY2tfX2l0ZW0nLFxuICAgICAgJ3Nwcmstby1TdGFja19faXRlbS0taGFsZkBzJ1xuICAgIF07XG5cbiAgICBpZiAodGhpcy5hZGRpdGlvbmFsQ2xhc3Nlc0ltZ0xpbmspIHtcbiAgICAgIHRoaXMuYWRkaXRpb25hbENsYXNzZXNJbWdMaW5rLnNwbGl0KCcgJykuZm9yRWFjaChjbGFzc05hbWUgPT4ge1xuICAgICAgICBjbGFzc0FycmF5LnB1c2goY2xhc3NOYW1lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2xhc3NBcnJheS5qb2luKCcgJyk7XG4gIH1cblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgZ2V0Q2xhc3Nlc0NvbnRlbnQoKTogc3RyaW5nIHtcbiAgICBjb25zdCBjbGFzc0FycmF5OiBzdHJpbmdbXSA9IFtcbiAgICAgICdzcHJrLWMtUHJvbW9fX2NvbnRlbnQnLFxuICAgICAgJ3Nwcmstby1TdGFja19faXRlbScsXG4gICAgICAnc3Byay1vLVN0YWNrJyxcbiAgICAgICdzcHJrLW8tU3RhY2stLWxhcmdlJ1xuICAgIF07XG5cbiAgICBpZiAodGhpcy5pc0ZsYWcpIHtcbiAgICAgIGNsYXNzQXJyYXkucHVzaCgnc3Byay1vLVN0YWNrX19pdGVtLS10aHJlZS1mb3VydGhzQHMnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuaW1nU3JjKSB7XG4gICAgICAgIGNsYXNzQXJyYXkucHVzaCgnc3Byay1vLVN0YWNrX19pdGVtLS1oYWxmQHMnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5hZGRpdGlvbmFsQ2xhc3Nlc0NvbnRlbnQpIHtcbiAgICAgIHRoaXMuYWRkaXRpb25hbENsYXNzZXNDb250ZW50LnNwbGl0KCcgJykuZm9yRWFjaChjbGFzc05hbWUgPT4ge1xuICAgICAgICBjbGFzc0FycmF5LnB1c2goY2xhc3NOYW1lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2xhc3NBcnJheS5qb2luKCcgJyk7XG4gIH1cbn1cbiJdfQ==