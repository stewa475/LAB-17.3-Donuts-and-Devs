import { __decorate, __metadata } from "tslib";
import { Component, Input } from '@angular/core';
import * as _ from 'lodash';
import { toggleAnimations } from '../sprk-toggle/sprk-toggle-animations';
var SprkAccordionItemComponent = /** @class */ (function () {
    function SprkAccordionItemComponent() {
        /**
         * The Accordion item will use this to decide
         * if it should be open or closed on first render.
         * (Interacting with the toggle will override this input.)
         */
        this.isOpen = false;
        /**
         * The name of the icon to use for
         * a closed Accordion item.
         */
        this.iconTypeClosed = 'chevron-up-circle-two-color';
        /**
         * The name of the icon to use for
         * an open Accordion item.
         */
        this.iconTypeOpen = 'chevron-up-circle-two-color';
        /**
         * @ignore
         */
        this.componentID = _.uniqueId();
        /**
         * @ignore
         */
        this.accordion_controls_id = "accordionHeading__" + this.componentID;
        /**
         * @ignore
         */
        this.currentIconType = this.iconTypeClosed;
        /**
         * @ignore
         */
        this.iconStateClass = '';
        /**
         * @ignore
         */
        this.animState = 'closed';
    }
    /**
     * @ignore
     */
    SprkAccordionItemComponent.prototype.accordionState = function () {
        this.isOpen === false
            ? (this.animState = 'closed')
            : (this.animState = 'open');
        this.isOpen === false
            ? (this.currentIconType = this.iconTypeClosed)
            : (this.currentIconType = this.iconTypeOpen);
        this.isOpen === false
            ? (this.iconStateClass = '')
            : (this.iconStateClass = 'sprk-c-Icon--open');
    };
    /**
     * @ignore
     */
    SprkAccordionItemComponent.prototype.toggleAccordion = function (event) {
        event.preventDefault();
        this.isOpen = !this.isOpen;
        this.accordionState();
    };
    /**
     * @ignore
     */
    SprkAccordionItemComponent.prototype.getClasses = function () {
        var classArray = [
            'sprk-c-Accordion__item',
            'sprk-u-Overflow--hidden'
        ];
        if (this.isOpen) {
            classArray.push('sprk-c-Accordion__item--open');
        }
        if (this.isActive) {
            classArray.push('sprk-c-Accordion__item--active');
        }
        if (this.additionalClasses) {
            this.additionalClasses.split(' ').forEach(function (className) {
                classArray.push(className);
            });
        }
        return classArray.join(' ');
    };
    /**
     * @ignore
     */
    SprkAccordionItemComponent.prototype.getHeadingClasses = function () {
        var classArray = ['sprk-c-Accordion__heading'];
        if (this.additionalHeadingClasses) {
            this.additionalHeadingClasses.split(' ').forEach(function (className) {
                classArray.push(className);
            });
        }
        return classArray.join(' ');
    };
    SprkAccordionItemComponent.prototype.ngOnInit = function () {
        this.accordionState();
    };
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkAccordionItemComponent.prototype, "title", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkAccordionItemComponent.prototype, "analyticsString", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkAccordionItemComponent.prototype, "idString", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkAccordionItemComponent.prototype, "additionalClasses", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkAccordionItemComponent.prototype, "additionalHeadingClasses", void 0);
    __decorate([
        Input(),
        __metadata("design:type", Object)
    ], SprkAccordionItemComponent.prototype, "isOpen", void 0);
    __decorate([
        Input(),
        __metadata("design:type", Boolean)
    ], SprkAccordionItemComponent.prototype, "isActive", void 0);
    __decorate([
        Input(),
        __metadata("design:type", Object)
    ], SprkAccordionItemComponent.prototype, "iconTypeClosed", void 0);
    __decorate([
        Input(),
        __metadata("design:type", Object)
    ], SprkAccordionItemComponent.prototype, "iconTypeOpen", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkAccordionItemComponent.prototype, "leadingIcon", void 0);
    SprkAccordionItemComponent = __decorate([
        Component({
            selector: 'sprk-accordion-item',
            template: "\n    <li [ngClass]=\"getClasses()\">\n      <button\n        sprkLink\n        variant=\"unstyled\"\n        href=\"#\"\n        [attr.aria-controls]=\"accordion_controls_id\"\n        [attr.aria-expanded]=\"isOpen\"\n        class=\"sprk-c-Accordion__summary\"\n        [analyticsString]=\"analyticsString\"\n        [idString]=\"idString\"\n        (click)=\"toggleAccordion($event)\"\n      >\n        <span [ngClass]=\"getHeadingClasses()\">\n          <sprk-icon\n            [iconType]=\"leadingIcon\"\n            additionalClasses=\"sprk-c-Icon--stroke-current-color sprk-c-Icon--l sprk-u-mrs\"\n            *ngIf=\"leadingIcon\"\n          ></sprk-icon>\n          {{ title }}\n        </span>\n\n        <sprk-icon\n          additionalClasses=\"sprk-c-Accordion__icon sprk-c-Icon--toggle sprk-c-Icon--l {{\n            iconStateClass\n          }}\"\n          [iconType]=\"currentIconType\"\n        ></sprk-icon>\n      </button>\n\n      <div [@toggleContent]=\"animState\">\n        <div\n          [id]=\"accordion_controls_id\"\n          class=\"sprk-c-Accordion__content sprk-b-TypeBodyTwo\"\n        >\n          <ng-content></ng-content>\n        </div>\n      </div>\n    </li>\n  ",
            animations: [toggleAnimations.toggleContent]
        })
    ], SprkAccordionItemComponent);
    return SprkAccordionItemComponent;
}());
export { SprkAccordionItemComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Byay1hY2NvcmRpb24taXRlbS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3BhcmtkZXNpZ25zeXN0ZW0vc3BhcmstYW5ndWxhci8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3NwcmstYWNjb3JkaW9uLWl0ZW0vc3Byay1hY2NvcmRpb24taXRlbS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBQ3pELE9BQU8sS0FBSyxDQUFDLE1BQU0sUUFBUSxDQUFDO0FBQzVCLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBOEN6RTtJQUFBO1FBdUNFOzs7O1dBSUc7UUFFSCxXQUFNLEdBQUcsS0FBSyxDQUFDO1FBT2Y7OztXQUdHO1FBRUgsbUJBQWMsR0FBRyw2QkFBNkIsQ0FBQztRQUMvQzs7O1dBR0c7UUFFSCxpQkFBWSxHQUFHLDZCQUE2QixDQUFDO1FBUzdDOztXQUVHO1FBQ0gsZ0JBQVcsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDM0I7O1dBRUc7UUFDSCwwQkFBcUIsR0FBRyx1QkFBcUIsSUFBSSxDQUFDLFdBQWEsQ0FBQztRQUNoRTs7V0FFRztRQUNJLG9CQUFlLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUM3Qzs7V0FFRztRQUNJLG1CQUFjLEdBQUcsRUFBRSxDQUFDO1FBQzNCOztXQUVHO1FBQ0ksY0FBUyxHQUFHLFFBQVEsQ0FBQztJQXdFOUIsQ0FBQztJQXRFQzs7T0FFRztJQUNILG1EQUFjLEdBQWQ7UUFDRSxJQUFJLENBQUMsTUFBTSxLQUFLLEtBQUs7WUFDbkIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7WUFDN0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsQ0FBQztRQUU5QixJQUFJLENB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cHV0LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHRvZ2dsZUFuaW1hdGlvbnMgfSBmcm9tICcuLi9zcHJrLXRvZ2dsZS9zcHJrLXRvZ2dsZS1hbmltYXRpb25zJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnc3Byay1hY2NvcmRpb24taXRlbScsXG4gIHRlbXBsYXRlOiBgXG4gICAgPGxpIFtuZ0NsYXNzXT1cImdldENsYXNzZXMoKVwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBzcHJrTGlua1xuICAgICAgICB2YXJpYW50PVwidW5zdHlsZWRcIlxuICAgICAgICBocmVmPVwiI1wiXG4gICAgICAgIFthdHRyLmFyaWEtY29udHJvbHNdPVwiYWNjb3JkaW9uX2NvbnRyb2xzX2lkXCJcbiAgICAgICAgW2F0dHIuYXJpYS1leHBhbmRlZF09XCJpc09wZW5cIlxuICAgICAgICBjbGFzcz1cInNwcmstYy1BY2NvcmRpb25fX3N1bW1hcnlcIlxuICAgICAgICBbYW5hbHl0aWNzU3RyaW5nXT1cImFuYWx5dGljc1N0cmluZ1wiXG4gICAgICAgIFtpZFN0cmluZ109XCJpZFN0cmluZ1wiXG4gICAgICAgIChjbGljayk9XCJ0b2dnbGVBY2NvcmRpb24oJGV2ZW50KVwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIFtuZ0NsYXNzXT1cImdldEhlYWRpbmdDbGFzc2VzKClcIj5cbiAgICAgICAgICA8c3Byay1pY29uXG4gICAgICAgICAgICBbaWNvblR5cGVdPVwibGVhZGluZ0ljb25cIlxuICAgICAgICAgICAgYWRkaXRpb25hbENsYXNzZXM9XCJzcHJrLWMtSWNvbi0tc3Ryb2tlLWN1cnJlbnQtY29sb3Igc3Byay1jLUljb24tLWwgc3Byay11LW1yc1wiXG4gICAgICAgICAgICAqbmdJZj1cImxlYWRpbmdJY29uXCJcbiAgICAgICAgICA+PC9zcHJrLWljb24+XG4gICAgICAgICAge3sgdGl0bGUgfX1cbiAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgIDxzcHJrLWljb25cbiAgICAgICAgICBhZGRpdGlvbmFsQ2xhc3Nlcz1cInNwcmstYy1BY2NvcmRpb25fX2ljb24gc3Byay1jLUljb24tLXRvZ2dsZSBzcHJrLWMtSWNvbi0tbCB7e1xuICAgICAgICAgICAgaWNvblN0YXRlQ2xhc3NcbiAgICAgICAgICB9fVwiXG4gICAgICAgICAgW2ljb25UeXBlXT1cImN1cnJlbnRJY29uVHlwZVwiXG4gICAgICAgID48L3NwcmstaWNvbj5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICA8ZGl2IFtAdG9nZ2xlQ29udGVudF09XCJhbmltU3RhdGVcIj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIFtpZF09XCJhY2NvcmRpb25fY29udHJvbHNfaWRcIlxuICAgICAgICAgIGNsYXNzPVwic3Byay1jLUFjY29yZGlvbl9fY29udGVudCBzcHJrLWItVHlwZUJvZHlUd29cIlxuICAgICAgICA+XG4gICAgICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gIGAsXG4gIGFuaW1hdGlvbnM6IFt0b2dnbGVBbmltYXRpb25zLnRvZ2dsZUNvbnRlbnRdXG59KVxuZXhwb3J0IGNsYXNzIFNwcmtBY2NvcmRpb25JdGVtQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgLyoqXG4gICAqIFRoZSB2YWx1ZSBzdXBwbGllZCB3aWxsIGJlIHJlbmRlcmVkXG4gICAqIGluc2lkZSB0aGUgdGl0bGUgYXJlYSBvZiB0aGUgQWNjb3JkaW9uIGl0ZW0uXG4gICAqL1xuICBASW5wdXQoKVxuICB0aXRsZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHZhbHVlIHN1cHBsaWVkIHdpbGwgYmUgYXNzaWduZWQgdG8gdGhlXG4gICAqIGBkYXRhLWFuYWx5dGljc2AgYXR0cmlidXRlIG9uIHRoZSBjb21wb25lbnQuXG4gICAqIEludGVuZGVkIGZvciBhbiBvdXRzaWRlXG4gICAqIGxpYnJhcnkgdG8gY2FwdHVyZSBkYXRhLlxuICAgKi9cbiAgQElucHV0KClcbiAgYW5hbHl0aWNzU3RyaW5nOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdmFsdWUgc3VwcGxpZWQgd2lsbCBiZSBhc3NpZ25lZFxuICAgKiB0byB0aGUgYGRhdGEtaWRgIGF0dHJpYnV0ZSBvbiB0aGVcbiAgICogY29tcG9uZW50LiBUaGlzIGlzIGludGVuZGVkIHRvIGJlXG4gICAqIHVzZWQgYXMgYSBzZWxlY3RvciBmb3IgYXV0b21hdGVkXG4gICAqIHRvb2xzLiBUaGlzIHZhbHVlIHNob3VsZCBiZSB1bmlxdWVcbiAgICogcGVyIHBhZ2UuXG4gICAqL1xuICBASW5wdXQoKVxuICBpZFN0cmluZzogc3RyaW5nO1xuICAvKipcbiAgICogRXhwZWN0cyBhIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmdcbiAgICogb2YgY2xhc3NlcyB0byBiZSBhZGRlZCB0byB0aGVcbiAgICogY29tcG9uZW50LlxuICAgKi9cbiAgQElucHV0KClcbiAgYWRkaXRpb25hbENsYXNzZXM6IHN0cmluZztcbiAgLyoqXG4gICAqIEV4cGVjdHMgYSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nXG4gICAqIG9mIGNsYXNzZXMgdG8gYmUgYWRkZWQgdG8gdGhlXG4gICAqIGhlYWRpbmcgaW4gdGhlIEFjY29yZGlvbiBpdGVtLlxuICAgKi9cbiAgQElucHV0KClcbiAgYWRkaXRpb25hbEhlYWRpbmdDbGFzc2VzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgQWNjb3JkaW9uIGl0ZW0gd2lsbCB1c2UgdGhpcyB0byBkZWNpZGVcbiAgICogaWYgaXQgc2hvdWxkIGJlIG9wZW4gb3IgY2xvc2VkIG9uIGZpcnN0IHJlbmRlci5cbiAgICogKEludGVyYWN0aW5nIHdpdGggdGhlIHRvZ2dsZSB3aWxsIG92ZXJyaWRlIHRoaXMgaW5wdXQuKVxuICAgKi9cbiAgQElucHV0KClcbiAgaXNPcGVuID0gZmFsc2U7XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBhY3RpdmUgQ1NTIGNsYXNzXG4gICAqIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgaXRlbS5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGlzQWN0aXZlOiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGljb24gdG8gdXNlIGZvclxuICAgKiBhIGNsb3NlZCBBY2NvcmRpb24gaXRlbS5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGljb25UeXBlQ2xvc2VkID0gJ2NoZXZyb24tdXAtY2lyY2xlLXR3by1jb2xvcic7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgaWNvbiB0byB1c2UgZm9yXG4gICAqIGFuIG9wZW4gQWNjb3JkaW9uIGl0ZW0uXG4gICAqL1xuICBASW5wdXQoKVxuICBpY29uVHlwZU9wZW4gPSAnY2hldnJvbi11cC1jaXJjbGUtdHdvLWNvbG9yJztcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBpY29uIHRvIHVzZSBiZWZvcmVcbiAgICogdGhlIHRpdGxlIGluIHRoZSBBY2NvcmRpb24gaXRlbS5cbiAgICogVGhpcyBpcyBvcHRpb25hbC5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGxlYWRpbmdJY29uOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNvbXBvbmVudElEID0gXy51bmlxdWVJZCgpO1xuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgYWNjb3JkaW9uX2NvbnRyb2xzX2lkID0gYGFjY29yZGlvbkhlYWRpbmdfXyR7dGhpcy5jb21wb25lbnRJRH1gO1xuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgcHVibGljIGN1cnJlbnRJY29uVHlwZSA9IHRoaXMuaWNvblR5cGVDbG9zZWQ7XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBwdWJsaWMgaWNvblN0YXRlQ2xhc3MgPSAnJztcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHB1YmxpYyBhbmltU3RhdGUgPSAnY2xvc2VkJztcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgYWNjb3JkaW9uU3RhdGUoKTogdm9pZCB7XG4gICAgdGhpcy5pc09wZW4gPT09IGZhbHNlXG4gICAgICA/ICh0aGlzLmFuaW1TdGF0ZSA9ICdjbG9zZWQnKVxuICAgICAgOiAodGhpcy5hbmltU3RhdGUgPSAnb3BlbicpO1xuXG4gICAgdGhpcy5pc09wZW4gPT09IGZhbHNlXG4gICAgICA/ICh0aGlzLmN1cnJlbnRJY29uVHlwZSA9IHRoaXMuaWNvblR5cGVDbG9zZWQpXG4gICAgICA6ICh0aGlzLmN1cnJlbnRJY29uVHlwZSA9IHRoaXMuaWNvblR5cGVPcGVuKTtcblxuICAgIHRoaXMuaXNPcGVuID09PSBmYWxzZVxuICAgICAgPyAodGhpcy5pY29uU3RhdGVDbGFzcyA9ICcnKVxuICAgICAgOiAodGhpcy5pY29uU3RhdGVDbGFzcyA9ICdzcHJrLWMtSWNvbi0tb3BlbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHRvZ2dsZUFjY29yZGlvbihldmVudCk6IHZvaWQge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5pc09wZW4gPSAhdGhpcy5pc09wZW47XG4gICAgdGhpcy5hY2NvcmRpb25TdGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGdldENsYXNzZXMoKTogc3RyaW5nIHtcbiAgICBjb25zdCBjbGFzc0FycmF5OiBzdHJpbmdbXSA9IFtcbiAgICAgICdzcHJrLWMtQWNjb3JkaW9uX19pdGVtJyxcbiAgICAgICdzcHJrLXUtT3ZlcmZsb3ctLWhpZGRlbidcbiAgICBdO1xuXG4gICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICBjbGFzc0FycmF5LnB1c2goJ3NwcmstYy1BY2NvcmRpb25fX2l0ZW0tLW9wZW4nKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuICAgICAgY2xhc3NBcnJheS5wdXNoKCdzcHJrLWMtQWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hZGRpdGlvbmFsQ2xhc3Nlcykge1xuICAgICAgdGhpcy5hZGRpdGlvbmFsQ2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goY2xhc3NOYW1lID0+IHtcbiAgICAgICAgY2xhc3NBcnJheS5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NBcnJheS5qb2luKCcgJyk7XG4gIH1cblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgZ2V0SGVhZGluZ0NsYXNzZXMoKTogc3RyaW5nIHtcbiAgICBjb25zdCBjbGFzc0FycmF5OiBzdHJpbmdbXSA9IFsnc3Byay1jLUFjY29yZGlvbl9faGVhZGluZyddO1xuXG4gICAgaWYgKHRoaXMuYWRkaXRpb25hbEhlYWRpbmdDbGFzc2VzKSB7XG4gICAgICB0aGlzLmFkZGl0aW9uYWxIZWFkaW5nQ2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goY2xhc3NOYW1lID0+IHtcbiAgICAgICAgY2xhc3NBcnJheS5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NBcnJheS5qb2luKCcgJyk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmFjY29yZGlvblN0YXRlKCk7XG4gIH1cbn1cbiJdfQ==