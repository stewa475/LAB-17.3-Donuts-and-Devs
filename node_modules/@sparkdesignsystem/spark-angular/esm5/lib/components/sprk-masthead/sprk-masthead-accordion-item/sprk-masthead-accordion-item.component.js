import { __decorate, __metadata } from "tslib";
import { Component, Input } from '@angular/core';
import * as _ from 'lodash';
import { toggleAnimations } from '../../sprk-toggle/sprk-toggle-animations';
var SprkMastheadAccordionItemComponent = /** @class */ (function () {
    function SprkMastheadAccordionItemComponent() {
        /**
         * If `true`, the Masthead accordion item
         * will be open when it is rendered.
         */
        this.isOpen = false;
        /**
         * The name of the icon to use
         * for the clickable close icon.
         */
        this.iconTypeClosed = 'chevron-up-circle-two-color';
        /**
         * The name of the icon to use
         * for the clickable open icon.
         */
        this.iconTypeOpen = 'chevron-up-circle-two-color';
        /**
         * @ignore
         */
        this.componentID = _.uniqueId();
        /**
         * @ignore
         */
        this.accordion_controls_id = "accordionHeading__" + this.componentID;
        /**
         * @ignore
         */
        this.currentIconType = this.iconTypeClosed;
        /**
         * @ignore
         */
        this.iconStateClass = '';
        /**
         * @ignore
         */
        this.animState = 'closed';
    }
    /**
     * @ignore
     */
    SprkMastheadAccordionItemComponent.prototype.accordionState = function () {
        this.isOpen === false
            ? (this.animState = 'closed')
            : (this.animState = 'open');
        this.isOpen === false
            ? (this.currentIconType = this.iconTypeClosed)
            : (this.currentIconType = this.iconTypeOpen);
        this.isOpen === false
            ? (this.iconStateClass = '')
            : (this.iconStateClass = 'sprk-c-Icon--open');
    };
    /**
     * @ignore
     */
    SprkMastheadAccordionItemComponent.prototype.toggleAccordion = function (event) {
        event.preventDefault();
        this.isOpen = !this.isOpen;
        this.accordionState();
    };
    /**
     * @ignore
     */
    SprkMastheadAccordionItemComponent.prototype.getClasses = function () {
        var classArray = [
            'sprk-c-MastheadAccordion__item',
            'sprk-u-Overflow--hidden'
        ];
        if (this.isOpen) {
            classArray.push('sprk-c-MastheadAccordion__item--open');
        }
        if (this.isActive) {
            classArray.push('sprk-c-MastheadAccordion__item--active');
        }
        if (this.additionalClasses) {
            this.additionalClasses.split(' ').forEach(function (className) {
                classArray.push(className);
            });
        }
        return classArray.join(' ');
    };
    /**
     * @ignore
     */
    SprkMastheadAccordionItemComponent.prototype.getHeadingClasses = function () {
        var classArray = ['sprk-c-MastheadAccordion__heading'];
        if (this.additionalHeadingClasses) {
            this.additionalHeadingClasses.split(' ').forEach(function (className) {
                classArray.push(className);
            });
        }
        return classArray.join(' ');
    };
    SprkMastheadAccordionItemComponent.prototype.ngOnInit = function () {
        this.accordionState();
    };
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkMastheadAccordionItemComponent.prototype, "title", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkMastheadAccordionItemComponent.prototype, "analyticsString", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkMastheadAccordionItemComponent.prototype, "idString", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkMastheadAccordionItemComponent.prototype, "additionalClasses", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkMastheadAccordionItemComponent.prototype, "additionalHeadingClasses", void 0);
    __decorate([
        Input(),
        __metadata("design:type", Object)
    ], SprkMastheadAccordionItemComponent.prototype, "isOpen", void 0);
    __decorate([
        Input(),
        __metadata("design:type", Boolean)
    ], SprkMastheadAccordionItemComponent.prototype, "isActive", void 0);
    __decorate([
        Input(),
        __metadata("design:type", Object)
    ], SprkMastheadAccordionItemComponent.prototype, "iconTypeClosed", void 0);
    __decorate([
        Input(),
        __metadata("design:type", Object)
    ], SprkMastheadAccordionItemComponent.prototype, "iconTypeOpen", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkMastheadAccordionItemComponent.prototype, "leadingIcon", void 0);
    SprkMastheadAccordionItemComponent = __decorate([
        Component({
            selector: 'sprk-masthead-accordion-item',
            template: "\n    <li [ngClass]=\"getClasses()\">\n      <div\n        class=\"sprk-u-Position--relative sprk-o-Stack__item sprk-u-Width-100\"\n      >\n        <button\n          [attr.aria-controls]=\"accordion_controls_id\"\n          class=\"sprk-c-MastheadAccordion__summary\"\n          [attr.data-analytics]=\"analyticsString\"\n          [attr.data-id]=\"idString\"\n          (click)=\"toggleAccordion($event)\"\n          [attr.aria-expanded]=\"isOpen\"\n        >\n          <span [ngClass]=\"getHeadingClasses()\">\n            <sprk-icon\n              [iconType]=\"leadingIcon\"\n              additionalClasses=\"sprk-c-Icon--stroke-current-color sprk-c-Icon--l sprk-c-Icon--toggle sprk-u-mrs\"\n              *ngIf=\"leadingIcon\"\n            ></sprk-icon>\n            {{ title }}\n          </span>\n\n          <sprk-icon\n            additionalClasses=\"sprk-c-MastheadAccordion__icon sprk-c-Icon--stroke-current-color sprk-c-Icon--toggle {{\n              iconStateClass\n            }}\"\n            [iconType]=\"currentIconType\"\n          ></sprk-icon>\n        </button>\n      </div>\n\n      <div [@toggleContent]=\"animState\">\n        <div [id]=\"accordion_controls_id\"><ng-content></ng-content></div>\n      </div>\n    </li>\n  ",
            animations: [toggleAnimations.toggleContent]
        })
    ], SprkMastheadAccordionItemComponent);
    return SprkMastheadAccordionItemComponent;
}());
export { SprkMastheadAccordionItemComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Byay1tYXN0aGVhZC1hY2NvcmRpb24taXRlbS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3BhcmtkZXNpZ25zeXN0ZW0vc3BhcmstYW5ndWxhci8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3NwcmstbWFzdGhlYWQvc3Byay1tYXN0aGVhZC1hY2NvcmRpb24taXRlbS9zcHJrLW1hc3RoZWFkLWFjY29yZGlvbi1pdGVtLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDekQsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7QUFDNUIsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sMENBQTBDLENBQUM7QUEwQzVFO0lBQUE7UUFtQ0U7OztXQUdHO1FBRUgsV0FBTSxHQUFHLEtBQUssQ0FBQztRQU9mOzs7V0FHRztRQUVILG1CQUFjLEdBQUcsNkJBQTZCLENBQUM7UUFDL0M7OztXQUdHO1FBRUgsaUJBQVksR0FBRyw2QkFBNkIsQ0FBQztRQVE3Qzs7V0FFRztRQUNILGdCQUFXLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzNCOztXQUVHO1FBQ0gsMEJBQXFCLEdBQUcsdUJBQXFCLElBQUksQ0FBQyxXQUFhLENBQUM7UUFDaEU7O1dBRUc7UUFDSSxvQkFBZSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7UUFDN0M7O1dBRUc7UUFDSSxtQkFBYyxHQUFHLEVBQUUsQ0FBQztRQUMzQjs7V0FFRztRQUNJLGNBQVMsR0FBRyxRQUFRLENBQUM7SUFzRTlCLENBQUM7SUFwRUM7O09BRUc7SUFDSCwyREFBYyxHQUFkO1FBQ0UsSUFBSSxDQUFDLE1BQU0sS0FBSyxLQUFLO1lBQ25CLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO1lBQzdCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FB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c291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyB0b2dnbGVBbmltYXRpb25zIH0gZnJvbSAnLi4vLi4vc3Byay10b2dnbGUvc3Byay10b2dnbGUtYW5pbWF0aW9ucyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3NwcmstbWFzdGhlYWQtYWNjb3JkaW9uLWl0ZW0nLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxsaSBbbmdDbGFzc109XCJnZXRDbGFzc2VzKClcIj5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJzcHJrLXUtUG9zaXRpb24tLXJlbGF0aXZlIHNwcmstby1TdGFja19faXRlbSBzcHJrLXUtV2lkdGgtMTAwXCJcbiAgICAgID5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIFthdHRyLmFyaWEtY29udHJvbHNdPVwiYWNjb3JkaW9uX2NvbnRyb2xzX2lkXCJcbiAgICAgICAgICBjbGFzcz1cInNwcmstYy1NYXN0aGVhZEFjY29yZGlvbl9fc3VtbWFyeVwiXG4gICAgICAgICAgW2F0dHIuZGF0YS1hbmFseXRpY3NdPVwiYW5hbHl0aWNzU3RyaW5nXCJcbiAgICAgICAgICBbYXR0ci5kYXRhLWlkXT1cImlkU3RyaW5nXCJcbiAgICAgICAgICAoY2xpY2spPVwidG9nZ2xlQWNjb3JkaW9uKCRldmVudClcIlxuICAgICAgICAgIFthdHRyLmFyaWEtZXhwYW5kZWRdPVwiaXNPcGVuXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIFtuZ0NsYXNzXT1cImdldEhlYWRpbmdDbGFzc2VzKClcIj5cbiAgICAgICAgICAgIDxzcHJrLWljb25cbiAgICAgICAgICAgICAgW2ljb25UeXBlXT1cImxlYWRpbmdJY29uXCJcbiAgICAgICAgICAgICAgYWRkaXRpb25hbENsYXNzZXM9XCJzcHJrLWMtSWNvbi0tc3Ryb2tlLWN1cnJlbnQtY29sb3Igc3Byay1jLUljb24tLWwgc3Byay1jLUljb24tLXRvZ2dsZSBzcHJrLXUtbXJzXCJcbiAgICAgICAgICAgICAgKm5nSWY9XCJsZWFkaW5nSWNvblwiXG4gICAgICAgICAgICA+PC9zcHJrLWljb24+XG4gICAgICAgICAgICB7eyB0aXRsZSB9fVxuICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgIDxzcHJrLWljb25cbiAgICAgICAgICAgIGFkZGl0aW9uYWxDbGFzc2VzPVwic3Byay1jLU1hc3RoZWFkQWNjb3JkaW9uX19pY29uIHNwcmstYy1JY29uLS1zdHJva2UtY3VycmVudC1jb2xvciBzcHJrLWMtSWNvbi0tdG9nZ2xlIHt7XG4gICAgICAgICAgICAgIGljb25TdGF0ZUNsYXNzXG4gICAgICAgICAgICB9fVwiXG4gICAgICAgICAgICBbaWNvblR5cGVdPVwiY3VycmVudEljb25UeXBlXCJcbiAgICAgICAgICA+PC9zcHJrLWljb24+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgW0B0b2dnbGVDb250ZW50XT1cImFuaW1TdGF0ZVwiPlxuICAgICAgICA8ZGl2IFtpZF09XCJhY2NvcmRpb25fY29udHJvbHNfaWRcIj48bmctY29udGVudD48L25nLWNvbnRlbnQ+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICBgLFxuICBhbmltYXRpb25zOiBbdG9nZ2xlQW5pbWF0aW9ucy50b2dnbGVDb250ZW50XVxufSlcbmV4cG9ydCBjbGFzcyBTcHJrTWFzdGhlYWRBY2NvcmRpb25JdGVtQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KClcbiAgdGl0bGU6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB2YWx1ZSBzdXBwbGllZCB3aWxsIGJlIGFzc2lnbmVkIHRvIHRoZVxuICAgKiBgZGF0YS1hbmFseXRpY3NgIGF0dHJpYnV0ZSBvbiB0aGUgY29tcG9uZW50LlxuICAgKiBJbnRlbmRlZCBmb3IgYW4gb3V0c2lkZVxuICAgKiBsaWJyYXJ5IHRvIGNhcHR1cmUgZGF0YS5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGFuYWx5dGljc1N0cmluZzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHZhbHVlIHN1cHBsaWVkIHdpbGwgYmUgYXNzaWduZWRcbiAgICogdG8gdGhlIGBkYXRhLWlkYCBhdHRyaWJ1dGUgb24gdGhlXG4gICAqIGNvbXBvbmVudC4gVGhpcyBpcyBpbnRlbmRlZCB0byBiZVxuICAgKiB1c2VkIGFzIGEgc2VsZWN0b3IgZm9yIGF1dG9tYXRlZFxuICAgKiB0b29scy4gVGhpcyB2YWx1ZSBzaG91bGQgYmUgdW5pcXVlXG4gICAqIHBlciBwYWdlLlxuICAgKi9cbiAgQElucHV0KClcbiAgaWRTdHJpbmc6IHN0cmluZztcbiAgLyoqXG4gICAqIEV4cGVjdHMgYSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nXG4gICAqIG9mIGNsYXNzZXMgdG8gYmUgYWRkZWQgdG8gdGhlXG4gICAqIGNvbXBvbmVudC5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGFkZGl0aW9uYWxDbGFzc2VzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBFeHBlY3RzIGEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZ1xuICAgKiBvZiBjbGFzc2VzIHRvIGJlIGFkZGVkIHRvIHRoZVxuICAgKiBoZWFkaW5nLlxuICAgKi9cbiAgQElucHV0KClcbiAgYWRkaXRpb25hbEhlYWRpbmdDbGFzc2VzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBNYXN0aGVhZCBhY2NvcmRpb24gaXRlbVxuICAgKiB3aWxsIGJlIG9wZW4gd2hlbiBpdCBpcyByZW5kZXJlZC5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGlzT3BlbiA9IGZhbHNlO1xuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgTWFzdGhlYWQgY2NvcmRpb24gaXRlbVxuICAgKiB3aWxsIGJlIGFjdGl2ZSB3aGVuIGl0IGlzIHJlbmRlcmVkLlxuICAgKi9cbiAgQElucHV0KClcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgaWNvbiB0byB1c2VcbiAgICogZm9yIHRoZSBjbGlja2FibGUgY2xvc2UgaWNvbi5cbiAgICovXG4gIEBJbnB1dCgpXG4gIGljb25UeXBlQ2xvc2VkID0gJ2NoZXZyb24tdXAtY2lyY2xlLXR3by1jb2xvcic7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgaWNvbiB0byB1c2VcbiAgICogZm9yIHRoZSBjbGlja2FibGUgb3BlbiBpY29uLlxuICAgKi9cbiAgQElucHV0KClcbiAgaWNvblR5cGVPcGVuID0gJ2NoZXZyb24tdXAtY2lyY2xlLXR3by1jb2xvcic7XG4gIC8qKlxuICAgKiBFeHBlY3RzIGEgbmFtZSBvZiBhbiBpY29uIHRvIHVzZVxuICAgKiBhcyBhIGxlYWRpbmcgaWNvbiBmb3IgdGhlIE1hc3RoZWFkIGFjY29yZGlvbiBpdGVtLlxuICAgKi9cbiAgQElucHV0KClcbiAgbGVhZGluZ0ljb246IHN0cmluZztcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY29tcG9uZW50SUQgPSBfLnVuaXF1ZUlkKCk7XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBhY2NvcmRpb25fY29udHJvbHNfaWQgPSBgYWNjb3JkaW9uSGVhZGluZ19fJHt0aGlzLmNvbXBvbmVudElEfWA7XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBwdWJsaWMgY3VycmVudEljb25UeXBlID0gdGhpcy5pY29uVHlwZUNsb3NlZDtcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHB1YmxpYyBpY29uU3RhdGVDbGFzcyA9ICcnO1xuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgcHVibGljIGFuaW1TdGF0ZSA9ICdjbG9zZWQnO1xuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBhY2NvcmRpb25TdGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzT3BlbiA9PT0gZmFsc2VcbiAgICAgID8gKHRoaXMuYW5pbVN0YXRlID0gJ2Nsb3NlZCcpXG4gICAgICA6ICh0aGlzLmFuaW1TdGF0ZSA9ICdvcGVuJyk7XG5cbiAgICB0aGlzLmlzT3BlbiA9PT0gZmFsc2VcbiAgICAgID8gKHRoaXMuY3VycmVudEljb25UeXBlID0gdGhpcy5pY29uVHlwZUNsb3NlZClcbiAgICAgIDogKHRoaXMuY3VycmVudEljb25UeXBlID0gdGhpcy5pY29uVHlwZU9wZW4pO1xuXG4gICAgdGhpcy5pc09wZW4gPT09IGZhbHNlXG4gICAgICA/ICh0aGlzLmljb25TdGF0ZUNsYXNzID0gJycpXG4gICAgICA6ICh0aGlzLmljb25TdGF0ZUNsYXNzID0gJ3NwcmstYy1JY29uLS1vcGVuJyk7XG4gIH1cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHRvZ2dsZUFjY29yZGlvbihldmVudCk6IHZvaWQge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5pc09wZW4gPSAhdGhpcy5pc09wZW47XG4gICAgdGhpcy5hY2NvcmRpb25TdGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGdldENsYXNzZXMoKTogc3RyaW5nIHtcbiAgICBjb25zdCBjbGFzc0FycmF5OiBzdHJpbmdbXSA9IFtcbiAgICAgICdzcHJrLWMtTWFzdGhlYWRBY2NvcmRpb25fX2l0ZW0nLFxuICAgICAgJ3NwcmstdS1PdmVyZmxvdy0taGlkZGVuJ1xuICAgIF07XG5cbiAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgIGNsYXNzQXJyYXkucHVzaCgnc3Byay1jLU1hc3RoZWFkQWNjb3JkaW9uX19pdGVtLS1vcGVuJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgIGNsYXNzQXJyYXkucHVzaCgnc3Byay1jLU1hc3RoZWFkQWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hZGRpdGlvbmFsQ2xhc3Nlcykge1xuICAgICAgdGhpcy5hZGRpdGlvbmFsQ2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goY2xhc3NOYW1lID0+IHtcbiAgICAgICAgY2xhc3NBcnJheS5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NBcnJheS5qb2luKCcgJyk7XG4gIH1cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGdldEhlYWRpbmdDbGFzc2VzKCk6IHN0cmluZyB7XG4gICAgY29uc3QgY2xhc3NBcnJheTogc3RyaW5nW10gPSBbJ3NwcmstYy1NYXN0aGVhZEFjY29yZGlvbl9faGVhZGluZyddO1xuXG4gICAgaWYgKHRoaXMuYWRkaXRpb25hbEhlYWRpbmdDbGFzc2VzKSB7XG4gICAgICB0aGlzLmFkZGl0aW9uYWxIZWFkaW5nQ2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goY2xhc3NOYW1lID0+IHtcbiAgICAgICAgY2xhc3NBcnJheS5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NBcnJheS5qb2luKCcgJyk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmFjY29yZGlvblN0YXRlKCk7XG4gIH1cbn1cbiJdfQ==