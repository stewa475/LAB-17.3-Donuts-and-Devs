import { __decorate, __metadata } from "tslib";
import { Component, ContentChild, ContentChildren, Input, QueryList } from '@angular/core';
import * as _ from 'lodash';
import { SprkFieldErrorDirective } from '../../../directives/inputs/sprk-field-error/sprk-field-error.directive';
import { SprkLabelDirective } from '../../../directives/inputs/sprk-label/sprk-label.directive';
import { SprkSelectionItemContainerComponent } from '../sprk-selection-item-container/sprk-selection-item-container.component';
var SprkSelectionContainerComponent = /** @class */ (function () {
    function SprkSelectionContainerComponent() {
        /**
         * @ignore
         */
        this.id = _.uniqueId();
        /**
         * @ignore
         */
        this.error_id = "error_" + this.id;
    }
    /**
     * @ignore
     */
    SprkSelectionContainerComponent.prototype.getClasses = function () {
        var classArray = ['sprk-b-InputContainer'];
        if (this.additionalClasses) {
            this.additionalClasses.split(' ').forEach(function (className) {
                classArray.push(className);
            });
        }
        return classArray.join(' ');
    };
    /**
     * @ignore
     */
    SprkSelectionContainerComponent.prototype.ngAfterContentInit = function () {
        var _this = this;
        if (this.selectionItems && this.error) {
            this.selectionItems.forEach(function (item) {
                item.input.ref.nativeElement.setAttribute('aria-describedby', _this.error_id);
            });
            this.error.ref.nativeElement.id = this.error_id;
        }
    };
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], SprkSelectionContainerComponent.prototype, "additionalClasses", void 0);
    __decorate([
        ContentChild(SprkLabelDirective, { static: false }),
        __metadata("design:type", SprkLabelDirective)
    ], SprkSelectionContainerComponent.prototype, "label", void 0);
    __decorate([
        ContentChild(SprkFieldErrorDirective, { static: false }),
        __metadata("design:type", SprkFieldErrorDirective)
    ], SprkSelectionContainerComponent.prototype, "error", void 0);
    __decorate([
        ContentChildren(SprkSelectionItemContainerComponent),
        __metadata("design:type", QueryList)
    ], SprkSelectionContainerComponent.prototype, "selectionItems", void 0);
    SprkSelectionContainerComponent = __decorate([
        Component({
            selector: 'sprk-selection-container',
            template: "\n    <div [ngClass]=\"getClasses()\">\n      <fieldset class=\"sprk-b-Fieldset\">\n        <legend class=\"sprk-b-Legend\">\n          <ng-content select=\"[sprkLabel]\"></ng-content>\n        </legend>\n        <ng-content select=\"sprk-selection-item-container\"></ng-content>\n      </fieldset>\n      <ng-content select=\"[sprkHelperText]\"></ng-content>\n      <ng-content select=\"[sprkFieldError]\"></ng-content>\n      <ng-content></ng-content>\n    </div>\n  "
        })
    ], SprkSelectionContainerComponent);
    return SprkSelectionContainerComponent;
}());
export { SprkSelectionContainerComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Byay1zZWxlY3Rpb24tY29udGFpbmVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BzcGFya2Rlc2lnbnN5c3RlbS9zcGFyay1hbmd1bGFyLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvaW5wdXRzL3Nwcmstc2VsZWN0aW9uLWNvbnRhaW5lci9zcHJrLXNlbGVjdGlvbi1jb250YWluZXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBRUwsU0FBUyxFQUNULFlBQVksRUFDWixlQUFlLEVBQ2YsS0FBSyxFQUNMLFNBQVMsRUFDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEtBQUssQ0FBQyxNQUFNLFFBQVEsQ0FBQztBQUM1QixPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSx3RUFBd0UsQ0FBQztBQUNqSCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSw0REFBNEQsQ0FBQztBQUNoRyxPQUFPLEVBQUUsbUNBQW1DLEVBQUUsTUFBTSwwRUFBMEUsQ0FBQztBQWtCL0g7SUFBQTtRQTRCRTs7V0FFRztRQUNILE9BQUUsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDbEI7O1dBRUc7UUFDSCxhQUFRLEdBQUcsV0FBUyxJQUFJLENBQUMsRUFBSSxDQUFDO0lBOEJoQyxDQUFDO0lBNUJDOztPQUVHO0lBQ0gsb0RBQVUsR0FBVjtRQUNFLElBQU0sVUFBVSxHQUFhLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUV2RCxJQUFJLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtZQUMxQixJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFBLFNBQVM7Z0JBQ2pELFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDN0IsQ0FBQyxDQUFDLENBQUM7U0FDSjtRQUVELE9BQU8sVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBQ0Q7O09BRUc7SUFDSCw0REFBa0IsR0FBbEI7UUFBQSxpQkFVQztRQVRDLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ3JDLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQUEsSUFBSTtnQkFDOUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FDdkMsa0JBQWtCLEVBQ2xCLEtBQUksQ0FBQyxRQUFRLENBQ2QsQ0FBQztZQUNKLENBQUMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1NBQ2pEO0lBQ0gsQ0FBQztJQXpERDtRQURDLEtBQUssRUFBRTs7OEVBQ2tCO0lBTzFCO1FBREMsWUFBWSxDQUFDLGtCQUFrQixFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxDQUFDO2tDQUM3QyxrQkFBa0I7a0VBQUM7SUFNMUI7UUFEQyxZQUFZLENBQUMsdUJBQXVCLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLENBQUM7a0NBQ2xELHVCQUF1QjtrRUFBQztJQU0vQjtRQURDLGVBQWUsQ0FBQyxtQ0FBbUMsQ0FBQztrQ0FDckMsU0FBUzsyRUFBc0M7SUExQnBELCtCQUErQjtRQWhCM0MsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLDBCQUEwQjtZQUNwQyxRQUFRLEVBQUUsdWRBWVQ7U0FDRixDQUFDO09BQ1csK0JBQStCLENBaUUzQztJQUFELHNDQUFDO0NBQUEsQUFqRUQsSUFpRUM7U0FqRVksK0JBQStCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgQ29tcG9uZW50LFxuICBDb250ZW50Q2hpbGQsXG4gIENvbnRlbnRDaGlsZHJlbixcbiAgSW5wdXQsXG4gIFF1ZXJ5TGlzdFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFNwcmtGaWVsZEVycm9yRGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vLi4vZGlyZWN0aXZlcy9pbnB1dHMvc3Byay1maWVsZC1lcnJvci9zcHJrLWZpZWxkLWVycm9yLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBTcHJrTGFiZWxEaXJlY3RpdmUgfSBmcm9tICcuLi8uLi8uLi9kaXJlY3RpdmVzL2lucHV0cy9zcHJrLWxhYmVsL3NwcmstbGFiZWwuZGlyZWN0aXZlJztcbmltcG9ydCB7IFNwcmtTZWxlY3Rpb25JdGVtQ29udGFpbmVyQ29tcG9uZW50IH0gZnJvbSAnLi4vc3Byay1zZWxlY3Rpb24taXRlbS1jb250YWluZXIvc3Byay1zZWxlY3Rpb24taXRlbS1jb250YWluZXIuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnc3Byay1zZWxlY3Rpb24tY29udGFpbmVyJyxcbiAgdGVtcGxhdGU6IGBcbiAgICA8ZGl2IFtuZ0NsYXNzXT1cImdldENsYXNzZXMoKVwiPlxuICAgICAgPGZpZWxkc2V0IGNsYXNzPVwic3Byay1iLUZpZWxkc2V0XCI+XG4gICAgICAgIDxsZWdlbmQgY2xhc3M9XCJzcHJrLWItTGVnZW5kXCI+XG4gICAgICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiW3NwcmtMYWJlbF1cIj48L25nLWNvbnRlbnQ+XG4gICAgICAgIDwvbGVnZW5kPlxuICAgICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJzcHJrLXNlbGVjdGlvbi1pdGVtLWNvbnRhaW5lclwiPjwvbmctY29udGVudD5cbiAgICAgIDwvZmllbGRzZXQ+XG4gICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJbc3Bya0hlbHBlclRleHRdXCI+PC9uZy1jb250ZW50PlxuICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiW3NwcmtGaWVsZEVycm9yXVwiPjwvbmctY29udGVudD5cbiAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICA8L2Rpdj5cbiAgYFxufSlcbmV4cG9ydCBjbGFzcyBTcHJrU2VsZWN0aW9uQ29udGFpbmVyQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJDb250ZW50SW5pdCB7XG4gIC8qKlxuICAgKiBFeHBlY3RzIGEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZ1xuICAgKiBvZiBjbGFzc2VzIHRvIGJlIGFkZGVkIHRvIHRoZVxuICAgKiBjb21wb25lbnQuXG4gICAqL1xuICBASW5wdXQoKVxuICBhZGRpdGlvbmFsQ2xhc3Nlczogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGlzIGNvbXBvbmVudCBleHBlY3RzIGEgY2hpbGQgbGFiZWwgZWxlbWVudFxuICAgKiB3aXRoIHRoZSBgc3Bya0xhYmVsYCBkaXJlY3RpdmUuXG4gICAqL1xuICBAQ29udGVudENoaWxkKFNwcmtMYWJlbERpcmVjdGl2ZSwgeyBzdGF0aWM6IGZhbHNlIH0pXG4gIGxhYmVsOiBTcHJrTGFiZWxEaXJlY3RpdmU7XG4gIC8qKlxuICAgKiBUaGlzIGNvbXBvbmVudCBleHBlY3RzIGEgY2hpbGQgZWxlbWVudFxuICAgKiB3aXRoIHRoZSBgc3Bya0ZpZWxkRXJyb3JgIGRpcmVjdGl2ZS5cbiAgICovXG4gIEBDb250ZW50Q2hpbGQoU3Bya0ZpZWxkRXJyb3JEaXJlY3RpdmUsIHsgc3RhdGljOiBmYWxzZSB9KVxuICBlcnJvcjogU3Bya0ZpZWxkRXJyb3JEaXJlY3RpdmU7XG4gIC8qKlxuICAgKiBUaGlzIGNvbXBvbmVudCBleHBlY3RzIGEgY2hpbGRcbiAgICogYDxzcHJrLXNlbGVjdGlvbi1pdGVtLWNvbnRhaW5lcj5gIGNvbXBvbmVudC5cbiAgICovXG4gIEBDb250ZW50Q2hpbGRyZW4oU3Bya1NlbGVjdGlvbkl0ZW1Db250YWluZXJDb21wb25lbnQpXG4gIHNlbGVjdGlvbkl0ZW1zOiBRdWVyeUxpc3Q8U3Bya1NlbGVjdGlvbkl0ZW1Db250YWluZXJDb21wb25lbnQ+O1xuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBpZCA9IF8udW5pcXVlSWQoKTtcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGVycm9yX2lkID0gYGVycm9yXyR7dGhpcy5pZH1gO1xuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBnZXRDbGFzc2VzKCk6IHN0cmluZyB7XG4gICAgY29uc3QgY2xhc3NBcnJheTogc3RyaW5nW10gPSBbJ3NwcmstYi1JbnB1dENvbnRhaW5lciddO1xuXG4gICAgaWYgKHRoaXMuYWRkaXRpb25hbENsYXNzZXMpIHtcbiAgICAgIHRoaXMuYWRkaXRpb25hbENsYXNzZXMuc3BsaXQoJyAnKS5mb3JFYWNoKGNsYXNzTmFtZSA9PiB7XG4gICAgICAgIGNsYXNzQXJyYXkucHVzaChjbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsYXNzQXJyYXkuam9pbignICcpO1xuICB9XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBuZ0FmdGVyQ29udGVudEluaXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uSXRlbXMgJiYgdGhpcy5lcnJvcikge1xuICAgICAgdGhpcy5zZWxlY3Rpb25JdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLmlucHV0LnJlZi5uYXRpdmVFbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieScsXG4gICAgICAgICAgdGhpcy5lcnJvcl9pZFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmVycm9yLnJlZi5uYXRpdmVFbGVtZW50LmlkID0gdGhpcy5lcnJvcl9pZDtcbiAgICB9XG4gIH1cbn1cbiJdfQ==