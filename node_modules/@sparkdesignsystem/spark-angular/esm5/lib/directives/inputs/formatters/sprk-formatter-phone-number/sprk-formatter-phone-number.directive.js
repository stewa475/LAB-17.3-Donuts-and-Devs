import { __decorate, __metadata } from "tslib";
import { Directive, ElementRef, HostListener } from '@angular/core';
var SprkFormatterPhoneNumberDirective = /** @class */ (function () {
    function SprkFormatterPhoneNumberDirective(ref) {
        this.ref = ref;
    }
    SprkFormatterPhoneNumberDirective.prototype.onFocus = function (value) {
        this.ref.nativeElement.value = this.formatPhone(value);
    };
    SprkFormatterPhoneNumberDirective.prototype.formatPhone = function (value) {
        var newValue = ("" + value).replace(/\D/g, '');
        var m = newValue.match(/^(\d{3})(\d{3})(\d{4})$/);
        if (m) {
            return "(" + m[1] + ") " + m[2] + "-" + m[3];
        }
        else {
            return value;
        }
    };
    SprkFormatterPhoneNumberDirective.ctorParameters = function () { return [
        { type: ElementRef }
    ]; };
    __decorate([
        HostListener('input', ['$event.target.value']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], SprkFormatterPhoneNumberDirective.prototype, "onFocus", null);
    SprkFormatterPhoneNumberDirective = __decorate([
        Directive({
            selector: '[sprkFormatterPhoneNumber]'
        }),
        __metadata("design:paramtypes", [ElementRef])
    ], SprkFormatterPhoneNumberDirective);
    return SprkFormatterPhoneNumberDirective;
}());
export { SprkFormatterPhoneNumberDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Byay1mb3JtYXR0ZXItcGhvbmUtbnVtYmVyLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BzcGFya2Rlc2lnbnN5c3RlbS9zcGFyay1hbmd1bGFyLyIsInNvdXJjZXMiOlsibGliL2RpcmVjdGl2ZXMvaW5wdXRzL2Zvcm1hdHRlcnMvc3Byay1mb3JtYXR0ZXItcGhvbmUtbnVtYmVyL3NwcmstZm9ybWF0dGVyLXBob25lLW51bWJlci5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUtwRTtJQUNFLDJDQUFtQixHQUFlO1FBQWYsUUFBRyxHQUFILEdBQUcsQ0FBWTtJQUFHLENBQUM7SUFHdEMsbURBQU8sR0FBUCxVQUFRLEtBQUs7UUFDWCxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQsdURBQVcsR0FBWCxVQUFZLEtBQUs7UUFDZixJQUFNLFFBQVEsR0FBRyxDQUFBLEtBQUcsS0FBTyxDQUFBLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztRQUMvQyxJQUFNLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7UUFFcEQsSUFBSSxDQUFDLEVBQUU7WUFDTCxPQUFPLE1BQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFHLENBQUM7U0FDcEM7YUFBTTtZQUNMLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7SUFDSCxDQUFDOztnQkFoQnVCLFVBQVU7O0lBR2xDO1FBREMsWUFBWSxDQUFDLE9BQU8sRUFBRSxDQUFDLHFCQUFxQixDQUFDLENBQUM7Ozs7b0VBRzlDO0lBTlUsaUNBQWlDO1FBSDdDLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSw0QkFBNEI7U0FDdkMsQ0FBQzt5Q0FFd0IsVUFBVTtPQUR2QixpQ0FBaUMsQ0FrQjdDO0lBQUQsd0NBQUM7Q0FBQSxBQWxCRCxJQWtCQztTQWxCWSxpQ0FBaUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEhvc3RMaXN0ZW5lciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbc3Bya0Zvcm1hdHRlclBob25lTnVtYmVyXSdcbn0pXG5leHBvcnQgY2xhc3MgU3Bya0Zvcm1hdHRlclBob25lTnVtYmVyRGlyZWN0aXZlIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlZjogRWxlbWVudFJlZikge31cblxuICBASG9zdExpc3RlbmVyKCdpbnB1dCcsIFsnJGV2ZW50LnRhcmdldC52YWx1ZSddKVxuICBvbkZvY3VzKHZhbHVlKSB7XG4gICAgdGhpcy5yZWYubmF0aXZlRWxlbWVudC52YWx1ZSA9IHRoaXMuZm9ybWF0UGhvbmUodmFsdWUpO1xuICB9XG5cbiAgZm9ybWF0UGhvbmUodmFsdWUpOiBzdHJpbmcge1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gYCR7dmFsdWV9YC5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgIGNvbnN0IG0gPSBuZXdWYWx1ZS5tYXRjaCgvXihcXGR7M30pKFxcZHszfSkoXFxkezR9KSQvKTtcblxuICAgIGlmIChtKSB7XG4gICAgICByZXR1cm4gYCgke21bMV19KSAke21bMl19LSR7bVszXX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG59XG4iXX0=