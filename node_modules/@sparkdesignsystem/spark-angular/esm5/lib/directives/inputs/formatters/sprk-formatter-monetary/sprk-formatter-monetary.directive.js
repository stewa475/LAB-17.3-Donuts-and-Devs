import { __decorate, __metadata } from "tslib";
import { Directive, ElementRef, HostListener, Attribute } from '@angular/core';
var SprkFormatterMonetaryDirective = /** @class */ (function () {
    function SprkFormatterMonetaryDirective(ref) {
        this.ref = ref;
    }
    SprkFormatterMonetaryDirective.prototype.onBlur = function (value) {
        this.ref.nativeElement.value = this.formatMonetary(value);
    };
    SprkFormatterMonetaryDirective.prototype.formatMonetary = function (value) {
        var number;
        if (this.ref.nativeElement.validity.valid) {
            number = Number(value.replace(/[\$,]/g, ''));
            if (isNaN(number)) {
                return value;
            }
            return number
                .toLocaleString('en-US', { style: 'currency', currency: 'USD' })
                .replace(/\$/g, '');
        }
        return value;
    };
    SprkFormatterMonetaryDirective.ctorParameters = function () { return [
        { type: ElementRef }
    ]; };
    __decorate([
        HostListener('blur', ['this.ref.nativeElement.value']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], SprkFormatterMonetaryDirective.prototype, "onBlur", null);
    SprkFormatterMonetaryDirective = __decorate([
        Directive({
            selector: '[sprkFormatterMonetary]'
        }),
        __metadata("design:paramtypes", [ElementRef])
    ], SprkFormatterMonetaryDirective);
    return SprkFormatterMonetaryDirective;
}());
export { SprkFormatterMonetaryDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Byay1mb3JtYXR0ZXItbW9uZXRhcnkuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHNwYXJrZGVzaWduc3lzdGVtL3NwYXJrLWFuZ3VsYXIvIiwic291cmNlcyI6WyJsaWIvZGlyZWN0aXZlcy9pbnB1dHMvZm9ybWF0dGVycy9zcHJrLWZvcm1hdHRlci1tb25ldGFyeS9zcHJrLWZvcm1hdHRlci1tb25ldGFyeS5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFNL0U7SUFDRSx3Q0FBbUIsR0FBZTtRQUFmLFFBQUcsR0FBSCxHQUFHLENBQVk7SUFBRyxDQUFDO0lBR3RDLCtDQUFNLEdBQU4sVUFBTyxLQUFLO1FBQ1YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVELHVEQUFjLEdBQWQsVUFBZSxLQUFLO1FBQ2xCLElBQUksTUFBTSxDQUFDO1FBQ1gsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFO1lBQ3pDLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUU3QyxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDakIsT0FBTyxLQUFLLENBQUM7YUFDZDtZQUVELE9BQU8sTUFBTTtpQkFDVixjQUFjLENBQUMsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLENBQUM7aUJBQy9ELE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDdkI7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7O2dCQXJCdUIsVUFBVTs7SUFHbEM7UUFEQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsOEJBQThCLENBQUMsQ0FBQzs7OztnRUFHdEQ7SUFOVSw4QkFBOEI7UUFIMUMsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLHlCQUF5QjtTQUNwQyxDQUFDO3lDQUV3QixVQUFVO09BRHZCLDhCQUE4QixDQXVCMUM7SUFBRCxxQ0FBQztDQUFBLEFBdkJELElBdUJDO1NBdkJZLDhCQUE4QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgSG9zdExpc3RlbmVyLCBBdHRyaWJ1dGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFZhbGlkYXRvcnMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tzcHJrRm9ybWF0dGVyTW9uZXRhcnldJ1xufSlcbmV4cG9ydCBjbGFzcyBTcHJrRm9ybWF0dGVyTW9uZXRhcnlEaXJlY3RpdmUge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVmOiBFbGVtZW50UmVmKSB7fVxuXG4gIEBIb3N0TGlzdGVuZXIoJ2JsdXInLCBbJ3RoaXMucmVmLm5hdGl2ZUVsZW1lbnQudmFsdWUnXSlcbiAgb25CbHVyKHZhbHVlKSB7XG4gICAgdGhpcy5yZWYubmF0aXZlRWxlbWVudC52YWx1ZSA9IHRoaXMuZm9ybWF0TW9uZXRhcnkodmFsdWUpO1xuICB9XG5cbiAgZm9ybWF0TW9uZXRhcnkodmFsdWUpOiB2b2lkIHtcbiAgICBsZXQgbnVtYmVyO1xuICAgIGlmICh0aGlzLnJlZi5uYXRpdmVFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICBudW1iZXIgPSBOdW1iZXIodmFsdWUucmVwbGFjZSgvW1xcJCxdL2csICcnKSk7XG5cbiAgICAgIGlmIChpc05hTihudW1iZXIpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bWJlclxuICAgICAgICAudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywgeyBzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6ICdVU0QnIH0pXG4gICAgICAgIC5yZXBsYWNlKC9cXCQvZywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cbiJdfQ==